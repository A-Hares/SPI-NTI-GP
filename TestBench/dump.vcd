$date
	Sat Jul 22 21:04:58 2023
$end
$version
	Icarus Verilog
$end
$timescale
	100ps
$end
$scope module SPI_TB $end
$var wire 1 ! MISO $end
$var wire 1 " SS_slave $end
$var wire 1 # SS $end
$var wire 1 $ SPIF $end
$var wire 1 % SCK_in $end
$var wire 1 & SCK $end
$var wire 1 ' MOSI $end
$var reg 1 ( LSBFE $end
$var reg 8 ) SPCR_in [7:0] $end
$var reg 8 * SPDR_From_user [7:0] $end
$var reg 8 + SPIBR_in [7:0] $end
$var reg 1 , SS_master $end
$var reg 1 - clk $end
$var reg 1 . rst $end
$scope module DUT $end
$var wire 1 / LSBFE $end
$var wire 1 ! MISO $end
$var wire 8 0 SPCR_in [7:0] $end
$var wire 8 1 SPDR_From_user [7:0] $end
$var wire 8 2 SPIBR_in [7:0] $end
$var wire 1 , SS_master $end
$var wire 1 - clk $end
$var wire 1 3 counter_enable_slave $end
$var wire 1 . rst $end
$var wire 1 4 shifter_en $end
$var wire 1 5 idle $end
$var wire 1 6 counter_enable_master $end
$var wire 3 7 counter [2:0] $end
$var wire 1 8 Shift_clk $end
$var wire 1 9 Sample_clk $end
$var wire 1 " SS_slave $end
$var wire 1 # SS $end
$var wire 3 : SPR [2:0] $end
$var wire 1 ; SPISR_in $end
$var wire 1 $ SPIF $end
$var wire 1 < SPE $end
$var wire 1 = SPDR_wr_en $end
$var wire 1 > SPDR_rd_en $end
$var wire 8 ? SPDR_out [7:0] $end
$var wire 8 @ SPDR_in [7:0] $end
$var wire 1 A SCK_out $end
$var wire 1 % SCK_in $end
$var wire 1 & SCK $end
$var wire 1 B Reg_write_en $end
$var wire 1 C M_BaudRate $end
$var wire 1 D MSTR $end
$var wire 1 ' MOSI $end
$var wire 1 E Data_out $end
$var wire 1 F Data_in $end
$var wire 1 G CPOL $end
$var wire 1 H CPHA $end
$var wire 1 I BaudRate $end
$var wire 1 J BRG_clr $end
$var parameter 32 K PrescalarWidth $end
$scope module u_BRG $end
$var wire 1 - clk $end
$var wire 1 . rst $end
$var wire 8 L counterNext [7:0] $end
$var wire 1 J clr $end
$var wire 3 M SPR [2:0] $end
$var wire 1 I BaudRate $end
$var parameter 32 N PrescalarWidth $end
$var reg 8 O counter [7:0] $end
$upscope $end
$scope module u_Bit_counter $end
$var wire 1 I BaudRate $end
$var wire 1 P counter_enable $end
$var wire 1 3 counter_enable_slave $end
$var wire 1 . rst $end
$var wire 1 6 counter_enable_master $end
$var reg 3 Q counter [2:0] $end
$upscope $end
$scope module u_Master_controller $end
$var wire 1 J BRG_clr $end
$var wire 1 I BaudRate $end
$var wire 1 C M_BaudRate $end
$var wire 1 - clk $end
$var wire 3 R counter [2:0] $end
$var wire 1 . rst $end
$var wire 1 # SS $end
$var wire 1 < SPE $end
$var wire 1 D MSTR $end
$var parameter 32 S Idle $end
$var parameter 32 T Run $end
$var parameter 32 U Update $end
$var reg 1 B Reg_write_en $end
$var reg 1 > SPDR_rd_en $end
$var reg 1 = SPDR_wr_en $end
$var reg 1 ; SPIF $end
$var reg 1 4 Shifter_en $end
$var reg 1 6 counter_enable $end
$var reg 2 V current_state [1:0] $end
$var reg 1 5 idle $end
$var reg 2 W next_state [1:0] $end
$var reg 1 X temp $end
$upscope $end
$scope module u_Port_control_logic $end
$var wire 1 ! MISO $end
$var wire 1 , SS_master $end
$var wire 1 " SS_slave $end
$var wire 1 # SS $end
$var wire 1 A SCK_out $end
$var wire 1 % SCK_in $end
$var wire 1 & SCK $end
$var wire 1 D MSTR $end
$var wire 1 ' MOSI $end
$var wire 1 E Data_out $end
$var wire 1 F Data_in $end
$upscope $end
$scope module u_SCK_control $end
$var wire 1 C M_BaudRate $end
$var wire 1 5 idle $end
$var wire 1 G CPOL $end
$var wire 1 H CPHA $end
$var reg 1 A SCK_out $end
$var reg 1 9 Sample_clk $end
$var reg 1 8 Shift_clk $end
$upscope $end
$scope module u_SPCR $end
$var wire 8 Y SPCR_in [7:0] $end
$var wire 1 - clk $end
$var wire 1 . rst $end
$var reg 1 H CPHA $end
$var reg 1 G CPOL $end
$var reg 1 Z LSBFE $end
$var reg 1 D MSTR $end
$var reg 1 < SPE $end
$upscope $end
$scope module u_SPDR $end
$var wire 8 [ SPDR_From_user [7:0] $end
$var wire 8 \ SPDR_out [7:0] $end
$var wire 1 > SPDR_rd_en $end
$var wire 1 - clk $end
$var wire 1 = en $end
$var wire 1 . rst $end
$var wire 8 ] SPDR_in [7:0] $end
$var reg 8 ^ SPDR [7:0] $end
$upscope $end
$scope module u_SPIBR $end
$var wire 8 _ SPIBR_in [7:0] $end
$var wire 1 - clk $end
$var wire 1 . rst $end
$var wire 3 ` SPR [2:0] $end
$var reg 1 a SPR0 $end
$var reg 1 b SPR1 $end
$var reg 1 c SPR2 $end
$upscope $end
$scope module u_SPISR $end
$var wire 1 ; SPISR_in $end
$var wire 1 - clk $end
$var wire 1 B en $end
$var wire 1 . rst $end
$var reg 1 $ SPIF $end
$upscope $end
$scope module u_Shifter $end
$var wire 1 F Data_in $end
$var wire 8 d SPDR_in [7:0] $end
$var wire 1 > SPDR_rd_en $end
$var wire 1 = SPDR_wr_en $end
$var wire 1 9 Sample_clk $end
$var wire 1 8 Shift_clk $end
$var wire 1 4 shifter_en $end
$var parameter 32 e DWIDTH $end
$var reg 1 E Data_out $end
$var reg 8 f SPDR_out [7:0] $end
$var reg 8 g shifter_data [7:0] $end
$var reg 8 h shifter_data_reg [7:0] $end
$upscope $end
$upscope $end
$upscope $end
$enddefinitions $end
$comment Show the parameter values. $end
$dumpall
b1000 e
b10 U
b1 T
b0 S
b11 N
b11 K
$end
#0
$dumpvars
b0 h
b0 g
bz f
b0 d
0c
1b
0a
b10 `
bx _
b0 ^
bz ]
b0 \
bx [
0Z
bx Y
xX
b0 W
b0 V
b0 R
b0 Q
xP
b0 O
b10 M
b1 L
1J
0I
0H
0G
zF
xE
0D
0C
0B
0A
b0 @
bz ?
1>
0=
0<
0;
b10 :
09
08
b0 7
06
15
04
z3
bx 2
bx 1
bx 0
x/
0.
0-
x,
bx +
bx *
bx )
x(
z'
z&
z%
0$
z#
z"
x!
$end
#50
0!
bx g
bx h
0&
0#
0F
x'
bx @
bx \
bx d
bx ^
xc
xb
xI
bx :
bx M
bx `
xa
xZ
1D
0X
0,
bx0x100xx )
bx0x100xx 0
bx0x100xx Y
1.
1-
#100
0-
#150
0J
b1 W
b10101010 g
b10101010 h
1<
0I
0c
1b
b10 :
b10 M
b10 `
0a
b10101010 @
b10101010 \
b10101010 d
b10101010 ^
1X
1-
bx1x100xx )
bx1x100xx 0
bx1x100xx Y
b10 +
b10 2
b10 _
b10101010 *
b10101010 1
b10101010 [
#200
0-
#250
b1010100 g
1'
b1010100 h
1E
1&
1A
19
1C
1P
08
16
14
1B
0>
05
b1 V
0X
b10 L
b1 O
1-
#300
0-
#350
b11 L
b10 O
1-
#400
0-
#450
b100 L
b11 O
1-
#500
0-
#550
0'
0E
b1 7
b1 Q
b1 R
0&
0A
09
18
0C
b101 L
1I
b100 O
1-
#600
0-
#650
b110 L
b101 O
1-
#700
0-
#750
b111 L
b110 O
1-
#800
0-
#850
b1000 L
b111 O
1-
#900
0-
#950
b10101000 g
b10101000 h
1&
1A
19
08
1C
b1001 L
0I
b1000 O
1-
#1000
0-
#1050
b1010 L
b1001 O
1-
#1100
0-
#1150
b1011 L
b1010 O
1-
#1200
0-
#1250
b1100 L
b1011 O
1-
#1300
0-
#1350
1'
1E
b10 7
b10 Q
b10 R
0&
0A
09
18
0C
b1101 L
1I
b1100 O
1-
#1400
0-
#1450
b1110 L
b1101 O
1-
#1500
0-
#1550
b1111 L
b1110 O
1-
#1600
0-
#1650
b10000 L
b1111 O
1-
#1700
0-
#1750
b1010000 g
b1010000 h
1&
1A
19
08
1C
b10001 L
0I
b10000 O
1-
#1800
0-
#1850
b10010 L
b10001 O
1-
#1900
0-
#1950
b10011 L
b10010 O
1-
#2000
0-
#2050
b10100 L
b10011 O
1-
#2100
0-
#2150
0'
0E
b11 7
b11 Q
b11 R
0&
0A
09
18
0C
b10101 L
1I
b10100 O
1-
#2200
0-
#2250
b10110 L
b10101 O
1-
#2300
0-
#2350
b10111 L
b10110 O
1-
#2400
0-
#2450
b11000 L
b10111 O
1-
#2500
0-
#2550
b10100000 g
b10100000 h
1&
1A
19
08
1C
b11001 L
0I
b11000 O
1-
#2600
0-
#2650
b11010 L
b11001 O
1-
#2700
0-
#2750
b11011 L
b11010 O
1-
#2800
0-
#2850
b11100 L
b11011 O
1-
#2900
0-
#2950
1'
1E
b100 7
b100 Q
b100 R
0&
0A
09
18
0C
b11101 L
1I
b11100 O
1-
#3000
0-
#3050
b11110 L
b11101 O
1-
#3100
0-
#3150
b11111 L
b11110 O
1-
#3200
0-
#3250
b100000 L
b11111 O
1-
#3300
0-
#3350
b1000000 g
b1000000 h
1&
1A
19
08
1C
b100001 L
0I
b100000 O
1-
#3400
0-
#3450
b100010 L
b100001 O
1-
#3500
0-
#3550
b100011 L
b100010 O
1-
#3600
0-
#3650
b100100 L
b100011 O
1-
#3700
0-
#3750
0'
0E
b101 7
b101 Q
b101 R
0&
0A
09
18
0C
b100101 L
1I
b100100 O
1-
#3800
0-
#3850
b100110 L
b100101 O
1-
#3900
0-
#3950
b100111 L
b100110 O
1-
#4000
0-
#4050
b101000 L
b100111 O
1-
#4100
0-
#4150
b10000000 g
b10000000 h
1&
1A
19
08
1C
b101001 L
0I
b101000 O
1-
#4200
0-
#4250
b101010 L
b101001 O
1-
#4300
0-
#4350
b101011 L
b101010 O
1-
#4400
0-
#4450
b101100 L
b101011 O
1-
#4500
0-
#4550
1'
1E
b110 7
b110 Q
b110 R
0&
0A
09
18
0C
b101101 L
1I
b101100 O
1-
#4600
0-
#4650
b101110 L
b101101 O
1-
#4700
0-
#4750
b101111 L
b101110 O
1-
#4800
0-
#4850
b110000 L
b101111 O
1-
#4900
0-
#4950
b0 g
b0 h
1&
1A
19
08
1C
b110001 L
0I
b110000 O
1-
#5000
0-
#5050
b110010 L
b110001 O
1-
#5100
0-
#5150
b110011 L
b110010 O
1-
#5200
0-
#5250
b110100 L
b110011 O
1-
#5300
0-
#5350
0'
b10 W
0E
b111 7
b111 Q
b111 R
0&
0A
09
18
0C
b110101 L
1I
b110100 O
1-
#5400
0-
#5450
b110110 L
b110101 O
1-
#5500
0-
#5550
b110111 L
b110110 O
1-
#5600
0-
#5650
b111000 L
b110111 O
1-
#5700
0-
#5750
1&
1A
19
08
1C
b111001 L
0I
b111000 O
1-
#5800
0-
#5850
b111010 L
b111001 O
1-
#5900
0-
#5950
b111011 L
b111010 O
1-
#6000
0-
#6050
b111100 L
b111011 O
1-
#6100
0-
#6150
b0 ?
b0 ]
b0 f
xP
1;
1=
15
06
1B
04
b0 W
b10 V
b0 7
b0 Q
b0 R
0&
0A
09
08
0C
b111101 L
1I
b111100 O
1-
#6200
0-
#6250
bz ?
bz ]
bz f
1>
0B
0;
0=
15
b1 W
b0 @
b0 \
b0 d
b0 ^
1$
b0 V
b111110 L
b111101 O
1-
#6300
0-
#6350
b10101010 g
b10101010 h
b10101010 @
b10101010 \
b10101010 d
b10101010 ^
1X
b111111 L
b111110 O
1-
#6400
0-
#6450
1'
1E
1P
18
16
14
1B
0>
05
b1 V
0X
b1000000 L
b111111 O
1-
#6500
0-
#6550
b1010100 g
b1010100 h
0$
1&
1A
19
08
1C
b1000001 L
0I
b1000000 O
1-
#6600
0-
#6650
b1000010 L
b1000001 O
1-
#6700
0-
#6750
b1000011 L
b1000010 O
1-
#6800
0-
#6850
b1000100 L
b1000011 O
1-
#6900
0-
#6950
0'
0E
b1 7
b1 Q
b1 R
0&
0A
09
18
0C
b1000101 L
1I
b1000100 O
1-
#7000
0-
#7050
b1000110 L
b1000101 O
1-
#7100
0-
#7150
b1000111 L
b1000110 O
1-
#7200
0-
#7250
b1001000 L
b1000111 O
1-
#7300
0-
#7350
b10101000 g
b10101000 h
1&
1A
19
08
1C
b1001001 L
0I
b1001000 O
1-
#7400
0-
#7450
b1001010 L
b1001001 O
1-
#7500
0-
#7550
b1001011 L
b1001010 O
1-
#7600
0-
#7650
b1001100 L
b1001011 O
1-
#7700
0-
#7750
1'
1E
b10 7
b10 Q
b10 R
0&
0A
09
18
0C
b1001101 L
1I
b1001100 O
1-
#7800
0-
#7850
b1001110 L
b1001101 O
1-
#7900
0-
#7950
b1001111 L
b1001110 O
1-
#8000
0-
#8050
b1010000 L
b1001111 O
1-
#8100
0-
#8150
b1010000 g
b1010000 h
1&
1A
19
08
1C
b1010001 L
0I
b1010000 O
1-
b11111111 *
b11111111 1
b11111111 [
#8200
0-
#8250
b1010010 L
b1010001 O
1-
#8300
0-
#8350
b1010011 L
b1010010 O
1-
#8400
0-
#8450
b1010100 L
b1010011 O
1-
#8500
0-
#8550
0'
0E
b11 7
b11 Q
b11 R
0&
0A
09
18
0C
b1010101 L
1I
b1010100 O
1-
#8600
0-
#8650
b1010110 L
b1010101 O
1-
#8700
0-
#8750
b1010111 L
b1010110 O
1-
#8800
0-
#8850
b1011000 L
b1010111 O
1-
#8900
0-
#8950
b10100000 g
b10100000 h
1&
1A
19
08
1C
b1011001 L
0I
b1011000 O
1-
#9000
0-
#9050
b1011010 L
b1011001 O
1-
#9100
0-
#9150
b1011011 L
b1011010 O
1-
#9200
0-
#9250
b1011100 L
b1011011 O
1-
#9300
0-
#9350
1'
1E
b100 7
b100 Q
b100 R
0&
0A
09
18
0C
b1011101 L
1I
b1011100 O
1-
#9400
0-
#9450
b1011110 L
b1011101 O
1-
#9500
0-
#9550
b1011111 L
b1011110 O
1-
#9600
0-
#9650
b1100000 L
b1011111 O
1-
#9700
0-
#9750
b1000000 g
b1000000 h
1&
1A
19
08
1C
b1100001 L
0I
b1100000 O
1-
#9800
0-
#9850
b1100010 L
b1100001 O
1-
#9900
0-
#9950
b1100011 L
b1100010 O
1-
#10000
0-
#10050
b1100100 L
b1100011 O
1-
#10100
0-
#10150
0'
0E
b101 7
b101 Q
b101 R
0&
0A
09
18
0C
b1100101 L
1I
b1100100 O
1-
#10200
0-
#10250
b1100110 L
b1100101 O
1-
#10300
0-
#10350
b1100111 L
b1100110 O
1-
#10400
0-
#10450
b1101000 L
b1100111 O
1-
#10500
0-
#10550
b10000000 g
b10000000 h
1&
1A
19
08
1C
b1101001 L
0I
b1101000 O
1-
#10600
0-
#10650
b1101010 L
b1101001 O
1-
#10700
0-
#10750
b1101011 L
b1101010 O
1-
#10800
0-
#10850
b1101100 L
b1101011 O
1-
#10900
0-
#10950
1'
1E
b110 7
b110 Q
b110 R
0&
0A
09
18
0C
b1101101 L
1I
b1101100 O
1-
#11000
0-
#11050
b1101110 L
b1101101 O
1-
#11100
0-
#11150
b1101111 L
b1101110 O
1-
#11200
0-
#11250
b1110000 L
b1101111 O
1-
#11300
0-
#11350
b0 g
b0 h
1&
1A
19
08
1C
b1110001 L
0I
b1110000 O
1-
#11400
0-
#11450
b1110010 L
b1110001 O
1-
#11500
0-
#11550
b1110011 L
b1110010 O
1-
#11600
0-
#11650
b1110100 L
b1110011 O
1-
#11700
0-
#11750
0'
b10 W
0E
b111 7
b111 Q
b111 R
0&
0A
09
18
0C
b1110101 L
1I
b1110100 O
1-
#11800
0-
#11850
b1110110 L
b1110101 O
1-
#11900
0-
#11950
b1110111 L
b1110110 O
1-
#12000
0-
#12050
b1111000 L
b1110111 O
1-
#12100
0-
#12150
1&
1A
19
08
1C
b1111001 L
0I
b1111000 O
1-
#12200
0-
#12250
b1111010 L
b1111001 O
1-
#12300
0-
#12350
b1111011 L
b1111010 O
1-
#12400
0-
#12450
b1111100 L
b1111011 O
1-
#12500
0-
#12550
b0 ?
b0 ]
b0 f
xP
1;
1=
15
06
1B
04
b0 W
b10 V
b0 7
b0 Q
b0 R
0&
0A
09
08
0C
b1111101 L
1I
b1111100 O
1-
#12600
0-
#12650
bz ?
bz ]
bz f
1>
0B
0;
0=
15
b1 W
b0 @
b0 \
b0 d
b0 ^
1$
b0 V
b1111110 L
b1111101 O
1-
#12700
0-
#12750
b11111111 g
b11111111 h
b11111111 @
b11111111 \
b11111111 d
b11111111 ^
1X
b1111111 L
b1111110 O
1-
#12800
0-
#12850
1'
1E
1P
18
16
14
1B
0>
05
b1 V
0X
b10000000 L
b1111111 O
1-
#12900
0-
#12950
b11111110 g
b11111110 h
0$
1&
1A
19
08
1C
b10000001 L
0I
b10000000 O
1-
#13000
0-
#13050
b10000010 L
b10000001 O
1-
#13100
0-
#13150
b10000011 L
b10000010 O
1-
#13200
0-
#13250
b10000100 L
b10000011 O
1-
#13300
0-
#13350
b1 7
b1 Q
b1 R
0&
0A
09
18
0C
b10000101 L
1I
b10000100 O
1-
#13400
0-
#13450
b10000110 L
b10000101 O
1-
#13500
0-
#13550
b10000111 L
b10000110 O
1-
#13600
0-
#13650
b10001000 L
b10000111 O
1-
#13700
0-
#13750
b11111100 g
b11111100 h
1&
1A
19
08
1C
b10001001 L
0I
b10001000 O
1-
#13800
0-
#13850
b10001010 L
b10001001 O
1-
#13900
0-
#13950
b10001011 L
b10001010 O
1-
#14000
0-
#14050
b10001100 L
b10001011 O
1-
#14100
0-
#14150
b10 7
b10 Q
b10 R
0&
0A
09
18
0C
b10001101 L
1I
b10001100 O
1-
#14200
0-
#14250
b10001110 L
b10001101 O
1-
#14300
0-
#14350
b10001111 L
b10001110 O
1-
#14400
0-
#14450
b10010000 L
b10001111 O
1-
#14500
0-
#14550
b11111000 g
b11111000 h
1&
1A
19
08
1C
b10010001 L
0I
b10010000 O
1-
#14600
0-
#14650
b10010010 L
b10010001 O
1-
#14700
0-
#14750
b10010011 L
b10010010 O
1-
#14800
0-
#14850
b10010100 L
b10010011 O
1-
#14900
0-
#14950
b11 7
b11 Q
b11 R
0&
0A
09
18
0C
b10010101 L
1I
b10010100 O
1-
#15000
0-
#15050
b10010110 L
b10010101 O
1-
#15100
0-
#15150
b10010111 L
b10010110 O
1-
#15200
0-
#15250
b10011000 L
b10010111 O
1-
#15300
0-
#15350
b11110000 g
b11110000 h
1&
1A
19
08
1C
b10011001 L
0I
b10011000 O
1-
#15400
0-
#15450
b10011010 L
b10011001 O
1-
#15500
0-
#15550
b10011011 L
b10011010 O
1-
#15600
0-
#15650
b10011100 L
b10011011 O
1-
#15700
0-
#15750
b100 7
b100 Q
b100 R
0&
0A
09
18
0C
b10011101 L
1I
b10011100 O
1-
#15800
0-
#15850
b10011110 L
b10011101 O
1-
#15900
0-
#15950
b10011111 L
b10011110 O
1-
#16000
0-
#16050
b10100000 L
b10011111 O
1-
#16100
0-
#16150
b11100000 g
b11100000 h
1&
1A
19
08
1C
b10100001 L
0I
b10100000 O
1-
